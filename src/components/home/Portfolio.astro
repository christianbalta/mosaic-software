---
---

<section id="portfolio" class="relative bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-40">
    <div class="space-y-24">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-primary">
          Portfolio</h2>
        <p class="mt-4 md:text-lg max-w-3xl mx-auto">Lorem ipsum dolor sit amet, consectetur
          adipisicing elit. Aliquam animi asperiores, culpa cupiditate quaerat quis. Ea esse eveniet
          fuga fugiat inventore quod.</p>
      </div>
    </div>
  </div>

  <!-- Stacking Cards Wrapper -->
  <div class="relative">
    <div class="stack">
      <!-- Card 01 -->
      <article class="card bg-dark-bg text-primary">
        <div class="container">
          <h3 class="text-4xl md:text-5xl font-bold">Agebetter GmbH</h3>
          <p class="mt-4 text-indigo-100 max-w-2xl">Entwicklung der digitalen Plattform Agebetter –
            einer innovativen Lösung, die Familien dabei unterstützt, schnell und unkompliziert den
            passenden Pflegedienst für ihre Angehörigen zu finden und zu vergleichen.</p>
          <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
          </div>
          <div class="number text-neutral-400">/01</div>
        </div>
      </article>

      <!-- Card 02 -->
      <article class="card bg-darker-bg text-primary">
        <div class="container">
          <h3 class="text-4xl md:text-5xl font-bold">Swiss Bioshield</h3>
          <p class="mt-4 text-indigo-100 max-w-2xl">Lorem ipsum dolor sit amet, consectetur
            adipisicing elit. Deleniti minima minus omnis velit veniam. Culpa doloribus ducimus est
            impedit laudantium magnam minima officia perferendis quaerat quasi reiciendis, sequi
            voluptate.</p>
          <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
          </div>
          <div class="number text-neutral-400">/02</div>
        </div>
      </article>

      <!-- Card 03 -->
      <article class="card bg-dark-bg text-primary">
        <div class="container">
          <h3 class="text-4xl md:text-5xl font-bold">KiTa Luftibus</h3>
          <p class="mt-4 text-white max-w-2xl">Lorem ipsum dolor sit amet, consectetur adipisicing
            elit. Consectetur corporis hic ipsa libero magni necessitatibus odio quibusdam sit totam
            veritatis?</p>
          <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
          </div>
          <div class="number text-neutral-400">/03</div>
        </div>
      </article>

      <!-- Card 04 -->
      <article class="card bg-darker-bg text-primary">
        <div class="container">
          <h3 class="text-4xl md:text-5xl font-bold">Fretz Gartenpflege GmbH</h3>
          <p class="mt-4 text-neutral-300 max-w-2xl">Lorem ipsum dolor sit amet, consectetur
            adipisicing elit. Aperiam distinctio, doloremque esse eveniet facere id illum odio
            perspiciatis quae totam.</p>
          <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
            <div class="overflow-hidden shadow-2xl">
              <img src="https://placehold.co/580x280" alt="Portfolio placeholder"
                   class="w-full h-72 object-cover"/>
            </div>
          </div>
          <div class="number text-neutral-400">/04</div>
        </div>
      </article>
    </div>
  </div>
  <!-- Spacer removed to eliminate extra gap after the stack -->
  <div aria-hidden="true" style="height: 0"></div>
</section>

<style>
  .stack {
    position: relative;
  }

  .card {
    position: sticky;
    top: 80px; /* below navbar */
    width: 80%;
    margin-left: auto;
    margin-right: auto;
    min-height: calc(100vh - 80px);
    display: flex;
    align-items: center;
    z-index: 0;
    transition: transform 500ms ease, box-shadow 500ms ease, filter 500ms ease;
    border: 2px solid #fff3;
    overflow: hidden; /* contain pattern overlay */
  }

  /* Pattern overlay: keeps background color, shows light dots */
  .card::before {
    content: "";
    position: absolute;
    inset: -2px; /* bleed slightly over the border */
    background-image: url('../../assets/pattern-portfolio-card.svg'); /* default for card 1 */
    background-size: cover;
    background-position: center;
    opacity: .1; /* tune visibility */
    mix-blend-mode: screen; /* black becomes neutral, light dots show */
    pointer-events: none;
    z-index: 0;
  }

  /* Per-card pattern images */
  .stack .card:nth-of-type(2)::before {
    background-image: url('../../assets/pattern-portfolio-card-02.svg');
  }
  .stack .card:nth-of-type(3)::before {
    background-image: url('../../assets/pattern-portfolio-card-03.svg');
  }
  .stack .card:nth-of-type(4)::before {
    background-image: url('../../assets/pattern-portfolio-card-04.svg');
  }

  /* ensure content sits above overlay */
  .card .container {
    width: min(1200px, 92%);
    margin-inline: auto;
    padding: 56px 0;
    position: relative;
    z-index: 1;
  }

  /* Overlap sooner: reduce spacer so next card arrives earlier while first remains fully visible */
  .card {
    margin-bottom: calc(60vh - 80px);
  }

  .card + .card {
    margin-top: -10vh;
  }

  /* Remove gap after the last sticky card */
  .stack .card:last-of-type {
    margin-bottom: 0;
  }

  .card .number {
    position: absolute;
    right: 16px;
    top: 16px;
    font-weight: 800;
    font-size: clamp(28px, 5vw, 56px);
    opacity: .3;
  }

  /* Depth effect when card is behind */
  .card.is-behind {
    transform: scale(.96);
    filter: saturate(.9) brightness(.98);
  }

  .card.is-front {
    box-shadow: 0 30px 90px rgba(0, 0, 0, .28);
  }

  @media (min-width: 1024px) {
    .card {
      top: 96px;
      min-height: calc(100vh - 96px);
    }

    /* Desktop: overlap a bit more aggressively */
    .card {
      margin-bottom: calc(55vh - 96px);
    }

    .card + .card {
      margin-top: -15vh;
    }

    /* Remove gap after the last sticky card on desktop */
    .stack .card:last-of-type {
      margin-bottom: 0;
    }
  }
</style>

<script>
  // Simple IntersectionObserver to toggle depth classes
  const cards = Array.from(document.querySelectorAll('.stack .card'));
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const el = entry.target;
      if (entry.isIntersecting && entry.intersectionRatio > 0.55) {
        cards.forEach(c => c.classList.remove('is-front'));
        el.classList.add('is-front');
      }
      // mark cards above as behind for subtle scale
      const index = cards.indexOf(el);
      cards.forEach((c, i) => {
        c.classList.toggle('is-behind', i < index);
      });
    });
  }, {threshold: [0.55]});

  cards.forEach(c => observer.observe(c));
</script>
